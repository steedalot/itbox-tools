# gtwy Configuration File
# This file is created by 'sudo gtwy setup' wizard

# IONOS DNS API credentials
ionos:
  public_prefix: "your-public-prefix_"
  secret: "your-secret-key"

# Gateway server configuration
gateway:
  public_ip: "1.2.3.4"              # Auto-detected or manually specified
  hostname: "gateway.kibox.online"  # Optional: gateway hostname

# Allowed domains (empty list = allow any domain)
# Boxes will be assigned one domain from this list
domains:
  - kibox.online
  - itbox.niedersachsen.de
  # Add more domains or set to [] to allow any

# Port allocation ranges
port_range:
  # Service tunnels (for Gitea, Theia, Portainer, etc.)
  services:
    start: 10000
    end: 19999

  # Admin SSH tunnels (reverse SSH access to boxes)
  admin_ssh:
    start: 20000
    end: 20999
    allocation: sequential  # or: lowest

# SSL certificate management
certbot:
  email: "admin@kibox.online"
  staging: false  # Set to true for testing (Let's Encrypt staging)

# Limits
max_tunnels_per_box: 10

# File paths (defaults - usually don't need to change)
nginx:
  config_path: /etc/nginx/sites-enabled/tunnels-autogen.conf
  template_path: /opt/gtwy/nginx-template

ssh:
  authorized_keys_path: /home/tunneluser/.ssh/authorized_keys

# Logging
logging:
  level: INFO  # DEBUG, INFO, WARNING, ERROR
  file: /opt/gtwy/gtwy.log
  max_size_mb: 10
  backup_count: 5
